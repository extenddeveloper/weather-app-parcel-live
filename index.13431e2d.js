var t={privateCity:"",privateCountry:"",set city(t){this.privateCity=t},set country(t){this.privateCountry=t},saveItem(){let t={city:this.privateCity,country:this.privateCountry};localStorage.setItem("bd-weather-city",JSON.stringify(t));let e=JSON.parse(localStorage.getItem("bd-weather-city"));console.log(e.country),console.log(e.city)}};var e={privateCity:"",privateCountry:"",api:"48c7994cf0f143a27cbae7caf6ebaa78",set city(t){this.privateCity=t},set country(t){this.privateCountry=t},async fetchWeatherData(){try{const t=await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${this.privateCity},${this.privateCountry}&unit=metric&appid=${this.api}`);return await t.json()}catch(t){UI.showMessage(t.message)}}};({city:"",country:"",loadSelectors:()=>({cityElm:document.querySelector("#city"),cityInfoElm:document.querySelector("#w-city"),iconElm:document.querySelector("#w-icon"),temperatureElm:document.querySelector("#w-temp"),pressureElm:document.querySelector("#w-pressure"),humidityElm:document.querySelector("#w-humidity"),feelElm:document.querySelector("#w-feel"),formElm:document.querySelector("#form"),countryElm:document.querySelector("#country"),messageElm:document.querySelector("#messageWrapper")}),getInputValue(){const{cityElm:t,countryElm:e}=this.loadSelectors();return{city:t.value,country:e.value}},validateInput(t,e){let r=!1;return""!==t&&""!==e||(r=!0),r},hideMessage(){const t=document.querySelector(".err-msg");t&&setTimeout((()=>{t.remove()}),2e3)},showMessage(t){let{messageElm:e}=this.loadSelectors();const r=`<div class="alert alert-danger err-msg">${t}</div>`;document.querySelector(".err-msg")||e.insertAdjacentHTML("afterbegin",r),this.hideMessage()},resetInput(){const{cityElm:t,countryElm:e}=this.loadSelectors();e.value="",t.value=""},getIconSrc:t=>"https://openweathermap.org/img/w/"+t+".png",printWeather(t){const{cityInfoElm:e,iconElm:r,temperatureElm:a,pressureElm:i,humidityElm:o,feelElm:c}=this.loadSelectors();e.textContent=t.name,a.textContent=`Temperature: ${t.main.temp}Â°C`,i.textContent=`Pressure: ${t.main.pressure} kpa`,o.textContent=`Humadity: ${t.main.humidity} kpa`,c.textContent=t.weather[0].description;const s=this.getIconSrc(t.weather[0].icon);r.setAttribute("src",s)},init(){const{formElm:r}=this.loadSelectors();r.addEventListener("submit",(async r=>{r.preventDefault();const{city:a,country:i}=this.getInputValue();if(this.validateInput(a,i))return void this.showMessage("Please Input valid Info");this.city=a,this.country=i,e.city=a,e.country=i,t.city=a,t.country=i,t.saveItem();const o=await e.fetchWeatherData();Number(o.cod)>=400?this.showMessage(o.message):this.printWeather(o),this.resetInput()})),document.addEventListener("DOMContentLoaded",(async t=>{if(localStorage.getItem("bd-weather-city")){let t=JSON.parse(localStorage.getItem("bd-weather-city"));e.city=t.city,e.country=t.country}else e.country="BD",e.city="Dhaka";let r=await e.fetchWeatherData();this.printWeather(r)}))}}).init();
//# sourceMappingURL=index.13431e2d.js.map
